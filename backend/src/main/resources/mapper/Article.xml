<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="Article">

	<select id="selectAllArticles" resultType="Article"
		parameterType="int">
		select * from articles where article_category_id =
		#{article_category_id}
	</select>

	<select id="selectArticleByArticleNo" resultType="Article"
		parameterType="int">
		select * from articles where article_no = #{article_no}
	</select>

	<insert id="insertArticle" parameterType="Article">
		insert into articles
		(article_title,article_content,
		article_imgsrc,article_category_id,account_no, account_name)
		values(#{article_title},#{article_content},#{article_imgsrc},#{article_category_id},#{account_no},#{account_name})
	</insert>

	<delete id="deleteArticle" parameterType="int">
		delete from articles
		where article_no = #{article_no}
	</delete>

	<update id="updateArticle" parameterType="Article">
		update articles
		set
		article_title = #{article_title}, article_content =
		#{article_content}, article_imgsrc = #{article_imgsrc}
		where article_no
		= #{article_no}
	</update>

	<update id="updateArticleViews" parameterType="int">
		update articles
		set article_views = article_views+1
		where article_no = #{article_no};
	</update>

</mapper>

